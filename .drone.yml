kind: pipeline
type: docker
name: DEV - Build and Release

globals:
# service principal globalvar
  - &spa_auth
    ARM_CLIENT_ID:
      from_secret: ARM_CLIENT_ID 
    ARM_CLIENT_SECRET:
      from_secret: ARM_CLIENT_SECRET
    ARM_TENANT_ID:
      from_secret: ARM_TENANT_ID   
    rg_name_dev: 
      from_secret: rg_name
    webapp_name: 
      from_secret: webapp_name

steps:
# dev release1
- name: Build
  image: node
  commands:
  - echo hello 
  when:
    event:
      - push
      - pull-request
    branch:
      - development
# dev release2
- name: Release
  image: mcr.microsoft.com/azure-cli
  commands:
  - echo release

#trigger for DEV pipeline
trigger:
    event:
      - push
      - pull-request
    branch:
      - development
